Solo CRM/ERP Build Guide V1
Dokument: Trinn for trinn byggeanvisning for Solo CRM/ERP plattformen pÃ¥ Synology NAS.
________________________________________
0. Forberedelser
0.1 Portainer
Installer Portainer pÃ¥ NAS via Docker. Tilgjengelig pÃ¥ https://nas:9000.
0.2 Postgres
Opprett crm-postgres-container med docker-compose.dev.yml. Lytter pÃ¥ port 5433.
0.3 Backup
Sett opp daglig pg_dump-cronjob med 7 dagers retention pÃ¥ NAS.
________________________________________
1. Lokal utviklingsÂ¬miljÃ¸
1.1 Node 20 + PNPM
Installer Node v20 med nvm install 20 og pnpm install -g pnpm.
1.2 Monorepo
KjÃ¸r pnpm init i rot, eventuelt legg til Turborepo-skjelett.
1.3 Docker Compose (dev)
Start Postgres + pgAdmin med:
docker compose -f docker-compose.dev.yml up -d
________________________________________
2. CRM moduler
Nr	Modul	Beskrivelse	Status
2.1	crm-core (NestJS)	CLI generert NestJS prosjekt	âœ… (2025 05 05)
2.2	Customer	CRUD + unit tester	âœ… (2025 05 05)
2.3	React skeleton	Vite/React + auth stub	âœ… (2025 05 06)
2.4	Contact	CRUD + unit tester	â˜
2.5	Lead	CRUD + unit tester	â˜
2.6	Deal	CRUD + unit tester	â˜
2.7	SupportTicket	Ticket system for support	â˜
2.8	CalendarEvent	Kalenderhendelser + pÃ¥minnelser	â˜
2.9	Task	OppgaveÂ¬behandling + pÃ¥minnelser	â˜
2.10	Intern Chat	Sanntidschat mellom ansatte	â˜
2.11	Ansatt	HÃ¥ndtering av ansatte: opprettelse, roller, profil	â˜
2.12	Superuser	Administrativt dashboard (innstillinger, e postserver)	â˜
2.13	Dashboard	Tilpassede dashboards per ansatt/avdeling	â˜
2.14	Survey	KundeundersÃ¸kelser & tilbakemeldinger (NPS)	â˜
2.15	Email integrasjon	Send/motta e post (SMTP/IMAP)	â˜
2.16	Kampanje	MarkedsfÃ¸ringskampanjer	â˜
2.17	Territory	SalgsomrÃ¥der og regionstyring	â˜
2.18	SalesForecasting	Salgsprognoser & pipeline analyse	â˜
2.19	Dokument	Lagring/deling av dokumenter	â˜
2.20	Integrasjons hub	Plattform for eksterne integrasjoner	â˜
2.21	E commerce	Nettbutikk integrasjon (Shopify, WooCommerce)	â˜
2.22	Omni channel Sales	Salg pÃ¥ nett, butikk, telefon	â˜
2.23	Order Management	Ordreflyt, plukking, pakking, utsendelse	â˜
2.24	Cart Recovery	Handlekurv pÃ¥minnelser via e post/SMS	â˜
2.25	PIM	Product Information Management	â˜
2.26	Regnskaps integrasjon	Synk mot Fiken, Agro Ã˜konomi, DNB, Visma Global/net, etc.	â˜
2.27	Grossist	Integrert beholdningsstyring, logistikk, automatisering	â˜
2.28	Modul interaksjoner	Se beskrivelser under	â˜
Modul interaksjoner:
â€¢	E commerce â†” Customer, Invoice
â€¢	Omni channel â†” Dashboard, Analytics
â€¢	Order Management â†” Warehouse, Purchase Order
â€¢	Cart Recovery â†” Notifications
â€¢	PIM â†” Dokument, Inventory
________________________________________
3. Autentisering & Sikkerhet
3.1 JWT Auth
Passport + JWT strategi | âœ… (2025 05 06)
3.2 Row Level Security
RLS policy i Postgres | âœ… (2025 05 06)
________________________________________
4. Faktura
4.1 Invoice modul
Entitet + PDF stub | âœ… (2025 05 06)
4.2 Invoice UI
Liste + form i frontend | â˜
________________________________________
5. CI/CD & Produksjon
5.1 Image build
GitHub Action: lint â†’ test â†’ build | â˜
5.2 Prod deploy
docker compose -f prod.yml up -d pÃ¥ NAS | â˜
________________________________________
6. Pilot & Feedback
6.1 Pilot import
CSV import + 1 kunde live | â˜
6.2 Pilotfeedback
Kritiske bugs lukket | â˜
________________________________________
7. Lagerstyring
7.1 Warehouse modul
product + stock_move | â˜
________________________________________
8. EHF/PEPPOL
8.1 Invoice 2.0
EHF/PEPPOL stub | â˜
________________________________________
9. Kvalitet & Skalerbarhet
9.1 Hardening
npm audit, OWASP scan | â˜
9.2 Load test
k6 500 rps over 30 min | â˜
________________________________________
10. Analytics & Rapportering
10.1 Reporting
Generer rapporter (PDF/Excel) | â˜
10.2 Analytics
Interaktivt KPI dashboard | â˜
10.3 Notifications
E post & SMS varslinger | â˜
10.4 Audit logs
Spor brukeraktiviteter + endringer | â˜
10.5 Mobile
Mobilvennlig UI / PWA | â˜
________________________________________
11. InnkjÃ¸p & LeverandÃ¸r
11.1 Purchase Order
InnkjÃ¸psordrebehandling | â˜
11.2 Supplier
LeverandÃ¸rhÃ¥ndtering | â˜
11.3 Marketing
E postkampanjer & lead nurturing | â˜
11.4 Workflow
Tilpassbare arbeidsflyter | â˜
________________________________________
12. Produksjon & Ã˜konomi
12.1 Inventory
Lagerverdivurdering | â˜
12.2 BOM
Oppskrifter & produksjonsstyring | â˜
12.3 Manufacturing
Arbeidsordre & produksjonsplanlegging | â˜
12.4 Quality
Inspeksjoner & SOP | â˜
12.5 Maintenance
Maskinvedlikehold & feilhÃ¥ndtering | â˜
12.6 HR & Payroll
Ansattstyring & lÃ¸nn | â˜
12.7 Accounting
Hovedbok, AR/AP | â˜
12.8 Bank Reconciliation
Bankavstemming & transaksjonsÂ¬spor | â˜
12.9 Tax & Compliance
Skatteberegning & rapportering | â˜
12.10 Budget & Forecasting
Budsjett & prognoser | â˜
12.11 Produsent
Kvalitet, ressursutnyttelse, overtidskostnader, beholdningskontroll | â˜
12.12 Grossist
Beholdningsstyring, logistikk & automatisering | â˜
________________________________________
ğŸ“‹ Fremdrifts tracker
Nr	Steg	MÃ¥l/Leveranse	Status
0.1	Portainer installert	Container portainer kjÃ¸rer pÃ¥ nas:9000	âœ… (2025 05 04)
0.2	Postgres container oppe	crm-postgres lytter pÃ¥ port 5433	âœ… (2025 05 05)
0.3	Backup script aktivt	Daglig pg_dump cron + 7 d retention	âœ… (2025 05 05)
1.1	Node 20 + PNPM lokalt	nvm + pnpm installert	âœ… (2025 05 05)
1.2	Monorepo init	pnpm init + Turborepo	âœ… (2025 05 05)
1.3	docker compose.dev	Postgres + pgAdmin via docker-compose.dev.yml	âœ… (2025 05 05)
2.1	crm-core (NestJS)	CLI generert NestJS app	âœ… (2025 05 05)
2.2	Customer modul	CRUD + unit tester	âœ… (2025 05 05)
2.3	React skeleton	Vite/React + auth stub	âœ… (2025 05 06)
2.4	Contact modul	CRUD + unit tester	â˜
2.5	Lead modul	CRUD + unit tester	â˜
2.6	Deal modul	CRUD + unit tester	â˜
2.7	SupportTicket modul	Ticket system for support	â˜
2.8	CalendarEvent modul	Kalenderhendelser + pÃ¥minnelser	â˜
2.9	Task modul	OppgaveÂ¬behandling + pÃ¥minnelser	â˜
2.10	Intern Chat modul	Sanntidschat mellom ansatte	â˜
2.11	Ansatt modul	AnsattÂ¬hÃ¥ndtering: opprettelse, roller, profil	â˜
2.12	Superuser modul	Administrativt dashboard	â˜
2.13	Dashboard modul	Tilpassede dashboards per ansatt/avdeling	â˜
2.14	Survey modul	KundeundersÃ¸kelser & tilbakemeldinger	â˜
2.15	Email integrasjon	Send/motta e post (SMTP/IMAP)	â˜
2.16	Kampanje modul	MarkedsfÃ¸ringskampanjer	â˜
2.17	Territory modul	SalgsomrÃ¥der og regionstyring	â˜
2.18	SalesForecasting	Salgsprognoser & pipeline analyse	â˜
2.19	Dokument modul	Lagring/deling av dokumenter	â˜
2.20	Integrasjons hub	Plattform for eksterne integrasjoner	â˜
2.21	E commerce modul	Nettbutikk integrasjon	â˜
2.22	Omni channel Sales	Salg pÃ¥ nett, butikk, telefon	â˜
2.23	Order Management	Ordreflyt, plukking, pakking, utsendelse	â˜
2.24	Cart Recovery	Handlekurv pÃ¥minnelser via e post/SMS	â˜
2.25	PIM modul	Product Information Management	â˜
2.26	Regnskaps integrasjon	Synk mot Fiken, Agro Ã˜konomi, DNB, Visma Global/net	â˜
2.27	Grossist modul	Beholdningsstyring, logistikk & automatisering	â˜
2.28	Modul interaksjoner	Se beskrivelser under	â˜
3.1	JWT Auth modul	Passport + JWT setup	âœ… (2025 05 06)
3.2	Row Level Security	RLS policy testet	âœ… (2025 05 06)
4.1	Invoice modul	Entitet + PDF stub	âœ… (2025 05 06)
4.2	Invoice UI	Liste + form i frontend	â˜
5.1	Image build	GitHub Action: lint â†’ test â†’ build	â˜
5.2	Prod deploy	docker compose -f prod.yml up -d pÃ¥ NAS	â˜
6.1	Pilot import	CSV import + 1 kunde live	â˜
6.2	Pilotfeedback	Kritiske bugs lukket	â˜
7.1	Warehouse modul	product + stock_move	â˜
8.1	Invoice 2.0	EHF/PEPPOL stub	â˜
9.1	Hardening	npm audit, OWASP scan	â˜
9.2	Load test	k6 500 rps over 30 min	â˜
10.1	Reporting modul	Generer rapporter (PDF/Excel)	â˜
10.2	Analytics dashboard	Interaktivt KPI dashboard	â˜
10.3	Notifications modul	E post & SMS varslinger	â˜
10.4	Audit logs	Spor brukeraktiviteter + endringer	â˜
10.5	Mobile support	Mobilvennlig UI / PWA	â˜
11.1	Purchase Order modul	InnkjÃ¸psordrebehandling	â˜
11.2	Supplier modul	LeverandÃ¸rhÃ¥ndtering	â˜
11.3	Marketing Automation	E postkampanjer & lead nurturing	â˜
11.4	Workflow Engine	Tilpassbare arbeidsflyter	â˜
12.1	Inventory Valuation	Lagerverdivurdering	â˜
12.2	Bill of Materials	Oppskrifter & produksjonsstyring	â˜
12.3	Manufacturing modul	Arbeidsordre & produksjonsplanlegging	â˜
12.4	Quality Management	Kvalitetsinspeksjoner & SOP	â˜
12.5	Maintenance Module	Maskinvedlikehold & feilhÃ¥ndtering	â˜
12.6	HR & Payroll	Ansattstyring & lÃ¸nnsutbetaling	â˜
12.7	Accounting Core	Hovedbok, AR/AP	â˜
12.8	Bank Reconciliation	Bankavstemming & transaksjonsÂ¬spor	â˜
12.9	Tax & Compliance	Skatteberegning & rapportering	â˜
12.10	Budget & Forecasting	Budsjettplanlegging & prognoser	â˜
12.11	Produsent modul	Prosessproduksjon: kvalitet, ressursutnyttelse, overtidskostnader, beholdningskontroll	â˜
12.12	Grossist modul	Beholdningsstyring, logistikk & automatisering	â˜
________________________________________
Oppdatert: 2025 05 06

